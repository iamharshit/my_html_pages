<!DOCTYPE html>
<html>
  <head>
	  <title>Agarwal Shirt Store</title>

	  <link rel="stylesheet prefetch" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	  <link rel="stylesheet prefetch" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	  <script src="https://code.jquery.com/jquery-2.2.4.min.js" defer></script>

		<script>
		window.onload = function(){
			//checking total cost initialvalue

			if(localStorage.getItem('totalCost')==null)
				totalCost = 0;
			else 
				totalCost = parseInt(localStorage.getItem('totalCost') );

			//checking table initial value
			if(localStorage.getItem('table')!=null)
				document.getElementsByClassName('cart')[0].innerHTML=localStorage.getItem('table');

			//if shirt1 selected
			document.getElementById("button1").onclick = function(){
				$(this).blur();
				var rowExists = document.getElementById('tr1');
				var table = document.getElementById('table');
				if(rowExists==null){
					var len = $('#table tr').length;
					var row = table.insertRow(len-1);
					row.id = 'tr1';
					var productname = 'Half Denim';
					var quantity = 1;
					var rate = 1000;
					totalCost += rate;
					document.getElementById('tcost').innerHTML = parseInt(totalCost);
					var cost = rate*quantity;

					//adding delete button	
					var del = "&nbsp;&nbsp;<button id='del1' class='btn btn-danger'>Delete the Item</button>";
					
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					var cell3 = row.insertCell(2)
					var cell4 = row.insertCell(3);

					cell1.innerHTML = productname+del;
					cell2.innerHTML = parseInt(quantity);	
					cell2.id='q1';
					cell3.innerHTML = parseInt(rate);
					cell3.id='r1';
					cell4.innerHTML = parseInt(cost); 
					cell4.id='c1';
				}
				else{
					var cell=document.getElementById('q1')
					var val=cell.innerHTML;
					val=parseInt(val);
					val += 1;
					cell.innerHTML = parseInt(val);

					var rate=1000;
					totalCost += rate;
					document.getElementById('tcost').innerHTML = parseInt(totalCost);	
					
					var cost=val*rate;
					document.getElementById('r1').innerHTML = 1000;
					document.getElementById('c1').innerHTML = parseInt(cost);
				}

				var table = document.getElementByClassName('cart')[0].innerHTML;
				localStorage.setItem('totalCost',totalCost);
				localStorage.setItem('table',table);
			};
			
			document.getElementById('del1').onclick=function(){
           var quantity=parseInt(document.getElementById('q1').innerHTML);
    		  document.getElementById('q1').innerHTML = parseInt(quantity-1);
           var rate = 1000;
           totalCost-=rate;
			  document.getElementById('tcost').innerHTML = parseInt(totalCost);
			  var cost = document.getElementById('c1').innerHTML;
			  cost -= 1000;
 			  document.getElementById('c1').innerHTML = parseInt(cost);		
      	};		

//=================================================================================================================
			if(localStorage.getItem('totalCost')==null)
				totalCost = 0;
			else 
				totalCost = parseInt(localStorage.getItem('totalCost') );

			//checking table initial value
			if(localStorage.getItem('table')!=null)
				document.getElementsByClassName('cart')[0].innerHTML=localStorage.getItem('table');

			//if shirt1 selected
			document.getElementById("button2").onclick = function(){
				$(this).blur();
				var rowExists = document.getElementById('tr2');
				var table = document.getElementById('table');
				if(rowExists==null){
					var len = $('#table tr').length;
					var row = table.insertRow(len-1);
					row.id = 'tr2';
					var productname = 'Informal Full';
					var quantity = 1;
					var rate = 900;
					totalCost += rate;
					document.getElementById('tcost').innerHTML = parseInt(totalCost);
					var cost = rate*quantity;

					//adding delete button	
					var del = "&nbsp;&nbsp;<button id='del2' class='btn btn-danger'>Delete the Item</button>";
					
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					var cell3 = row.insertCell(2)
					var cell4 = row.insertCell(3);

					cell1.innerHTML = productname+del;
					cell2.innerHTML = parseInt(quantity);	
					cell2.id='q2';
					cell3.innerHTML = parseInt(rate);
					cell3.id='r2';
					cell4.innerHTML = parseInt(cost); 
					cell4.id='c2';
				}
				else{
					var cell=document.getElementById('q2')
					var val=cell.innerHTML;
					val=parseInt(val);
					val += 1;
					cell.innerHTML = parseInt(val);

					var rate=900;
					totalCost += rate;
					document.getElementById('tcost').innerHTML = parseInt(totalCost);	
					
					var cost=val*rate;
					document.getElementById('r2').innerHTML = 900;
					document.getElementById('c2').innerHTML = parseInt(cost);
				}
				var table = document.getElementByClassName('cart')[0].innerHTML;
				localStorage.setItem('totalCost',totalCost);
				localStorage.setItem('table',table);
			};
			document.getElementById('del2').onclick=function(){
           var quantity=parseInt(document.getElementById('q2').innerHTML);
    		  document.getElementById('q2').innerHTML = parseInt(quantity-1);
           var rate = 900;
           totalCost-=rate;
			  document.getElementById('tcost').innerHTML = parseInt(totalCost);
			  var cost = document.getElementById('c2').innerHTML;
			  cost -= 900;
 			  document.getElementById('c2').innerHTML = parseInt(cost);		
      	};		


//===========================================================================================================
			if(localStorage.getItem('totalCost')==null)
				totalCost = 0;
			else 
				totalCost = parseInt(localStorage.getItem('totalCost') );

			//checking table initial value
			if(localStorage.getItem('table')!=null)
				document.getElementsByClassName('cart')[0].innerHTML=localStorage.getItem('table');

			//if shirt 3 selected
			document.getElementById("button3").onclick = function(){
				$(this).blur();
				var rowExists = document.getElementById('tr3');
				var table = document.getElementById('table');
				if(rowExists==null){
					var len = $('#table tr').length;
					var row = table.insertRow(len-1);
					row.id = 'tr3';
					var productname = 'Blue Denim';
					var quantity = 1;
					var rate = 1200;
					totalCost += rate;
					document.getElementById('tcost').innerHTML = parseInt(totalCost);
					var cost = rate*quantity;

					//adding delete button	
					var del = "&nbsp;&nbsp;<button id='del3' class='btn btn-danger'>Delete the Item</button>";
					
					var cell1 = row.insertCell(0);
					var cell2 = row.insertCell(1);
					var cell3 = row.insertCell(2)
					var cell4 = row.insertCell(3);

					cell1.innerHTML = productname+del;
					cell2.innerHTML = parseInt(quantity);	
					cell2.id='q3';
					cell3.innerHTML = parseInt(rate);
					cell3.id='r3';
					cell4.innerHTML = parseInt(cost); 
					cell4.id='c3';
				}
				else{
					var cell=document.getElementById('q3')
					var val=cell.innerHTML;
					val=parseInt(val);
					val += 1;
					cell.innerHTML = parseInt(val);

					var rate=1200;
					totalCost += rate;
					document.getElementById('tcost').innerHTML = parseInt(totalCost);	
					
					var cost=val*rate;
					document.getElementById('r3').innerHTML = 1200;
					document.getElementById('c3').innerHTML = parseInt(cost);
				}

				var table = document.getElementByClassName('cart')[0].innerHTML;
				localStorage.setItem('totalCost',totalCost);
				localStorage.setItem('table',table);
			};
			
			document.getElementById('del3').onclick=function(){
           var quantity=parseInt(document.getElementById('q3').innerHTML);
    		  document.getElementById('q3').innerHTML = parseInt(quantity-1);
           var rate = 1200;
           totalCost-=rate;
			  document.getElementById('tcost').innerHTML = parseInt(totalCost);
			  var cost = document.getElementById('c3').innerHTML;
			  cost -= 1200;
 			  document.getElementById('c3').innerHTML = parseInt(cost);		
      	};		

		};
	</script>	

	<style>
	h1{
		background-color:green;
	}
	</style>
</head>


<body>
	<h1><center>Agarwal Shirt Store</center></h1>
	<br>
	<h2><i>Our Products<i></h2>
	
	<div class="row" id="shirt1">
		<div class="col-md-4">
			<img src='img/shirt1_front.jpg' width='300px' onmouseover="this.src='img/shirt1_back.jpg';" onmouseout="this.src='img/shirt1_front.jpg';" />
		</div>

		<div class="col-md-4">
			<br><br>
			<h3>Denim Half</h3>
			<ul style="list-style-type:disc">
				<li>Small Size</li>
				<li>Washable</li>
				<li>100% Cotton Material</li>
			</ul>
		</div>

		<div class="col-md-4">			
			<br><br>
			<h3>Rs. 1000</h3>
			<button class="btn btn-primary" id="button1"><i class="fa fa-shopping-cart" >&nbsp;Add to Cart</i></button>
		</div>		

	</div> 


	<div class="row" id="shirt2">
		<div class="col-md-4">
			<img src='img/shirt2_front.jpg' width='300px' onmouseover="this.src='img/shirt2_back.jpg';" onmouseout="this.src='img/shirt2_front.jpg';" />
		</div>
		<div class="col-md-4">
			<br><br>
			<h3>Informal Full</h3>
			<ul style="list-style-type:disc">
				<li>Medium Size</li>
				<li>Unwashable</li>
				<li>100% Cotton Material</li>
			</ul>
		</div>
		<div class="col-md-4">
			<br><br>
			<h3>Rs. 900</h3>
			<button class="btn btn-primary" id="button2"><i class="fa fa-shopping-cart" aria-hidden="true">Add to Cart</i></button>
		</div>		
	</div>

	<div class="row" id="shirt3">
		<div class="col-md-4">
			<img src='img/shirt3_front.jpg' width='300px' onmouseover="this.src='img/shirt3_back.jpg';" onmouseout="this.src='img/shirt3_front.jpg';" />
		</div>

		<div class="col-md-4">
			<br><br>
			<h3>Blue Denim</h3>
			<ul style="list-style-type:disc">
				<li>Extra Small Size</li>
				<li>Washable but donot bleach</li>
				<li>100% Cototn Material</li>
			</ul>
		</div>

		<div class="col-md-4">
			<br><br>
			<h3>Rs. 1200</h3>
			<button class="btn btn-primary" id="button3"><i class="fa fa-shopping-cart" aria-hidden="true">Add to Cart</i></button>
		</div>		
	</div>

	<br>

	<div class ='cart'>
	<table class="table table-borderded" id="table">
		<caption><h2>My Cart</h2></caption>

		<thead>	
		<tr>
			<th>Product Name</th>
			<th>Quantity</th>
			<th>Rate</th>
			<th>Cost</th>
		</tr>
		</thead>
		
		<tbody>
		<tr id='total'>
			<td colspan="3">Total</td>
			<td id="tcost"></td>
		</tr>
		</tbody>
		
	</table>
	</div>

</body>
</html>


